<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automatix Facturas</title>
    <link rel="stylesheet" href="/mainfacturas/mainStyles.css">
</head>

<body class="dark-theme" id="body">
    <!-- Header -->
    <header class="header" id="header">
        <div class="header-container">
            <div class="header-content">
                <div class="header-brand">
                    <div class="brand-icon">
                        <svg class="brand-svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        </svg>
                    </div>
                    <div class="brand-text">
                        <h1 class="brand-title">Automatix Facturas</h1>
                        <p class="brand-subtitle">Extracción inteligente de datos</p>
                    </div>
                </div>
                <div class="header-controls">
                    <!-- Toggle tema -->
                    <button id="themeToggle" class="theme-toggle" title="Cambiar tema">
                        <div id="themeSlider" class="theme-slider">
                            <svg id="moonIcon" class="theme-icon moon-icon" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                            </svg>
                            <svg id="sunIcon" class="theme-icon sun-icon hidden" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                            </svg>
                        </div>
                    </button>

                    <div id="demoMode" class="demo-badge">
                        <span class="demo-text">MODO DEMO</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Contenido principal -->
    <main class="main-content">
        <div class="main-grid">
            <!-- Panel de carga -->
            <div class="upload-section">
                <div class="panel" id="uploadPanel">
                    <div class="panel-header">
                        <h2 class="panel-title">Subir Documentos</h2>
                        <div class="status-indicator">
                            <div class="status-dot"></div>
                            <span class="status-text">Listo</span>
                        </div>
                    </div>

                    <!-- Zona de arrastre -->
                    <div id="dropzone" class="dropzone">
                        <div class="dropzone-content">
                            <div class="dropzone-icon">
                                <svg class="upload-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                        d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                </svg>
                            </div>
                            <p class="dropzone-title">Arrastra tus facturas aquí</p>
                            <p class="dropzone-subtitle">o haz clic para seleccionar</p>
                        </div>
                    </div>

                    <input id="fileInput" type="file" accept="image/*" multiple class="hidden">

                    <!-- Lista de archivos pendientes -->
                    <div id="pendingFiles" class="pending-files hidden">
                        <h3 class="pending-title">Archivos pendientes (<span id="fileCount">0</span>)</h3>
                        <div id="fileList" class="file-list"></div>
                    </div>

                    <!-- Botones de acción -->
                    <div class="action-buttons">
                        <button id="selectBtn" class="btn btn-secondary flex-1">Seleccionar</button>
                        <button id="clearBtn" class="btn btn-secondary">Limpiar</button>
                        <button id="extractBtn" class="btn btn-primary">Extraer</button>
                    </div>
                </div>
            </div>

            <!-- Panel principal de datos -->
            <div class="data-section">
                <!-- Editor de factura -->
                <div class="panel" id="editorPanel">
                    <div class="panel-header">
                        <h2 class="panel-title">Editor de Factura</h2>
                        <div id="editingIndicator" class="status-indicator hidden">
                            <div class="status-dot editing"></div>
                            <span class="status-text">Editando</span>
                        </div>
                    </div>

                    <div id="noSelection" class="no-selection">
                        <div class="no-selection-icon">
                            <svg class="empty-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                    d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                            </svg>
                        </div>
                        <p class="no-selection-text">Selecciona una factura para editarla</p>
                    </div>

                    <form id="facturaForm" class="factura-form hidden"></form>
                </div>

                <!-- Panel de acciones -->
                <div class="panel" id="actionsPanel">
                    <div class="panel-header">
                        <h3 class="panel-title">Exportar Datos</h3>
                        <span class="counter-text"><span id="facturaCount">0</span> facturas</span>
                    </div>

                    <div class="export-buttons">
                        <button id="downloadJsonBtn" class="btn btn-secondary btn-icon">
                            <svg class="btn-icon-svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                            </svg>
                            <span>JSON</span>
                        </button>
                        <button id="downloadCsvBtn" class="btn btn-secondary btn-icon">
                            <svg class="btn-icon-svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                            </svg>
                            <span>CSV</span>
                        </button>
                        <button id="removeAllBtn" class="btn btn-danger btn-icon ml-auto">
                            <svg class="btn-icon-svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                            </svg>
                            <span>Borrar todo</span>
                        </button>
                    </div>
                </div>

                <!-- Lista de facturas -->
                <div class="panel" id="facturasList">
                    <div class="panel-header">
                        <h3 class="panel-title">Facturas Procesadas</h3>
                        <div class="counter-badge">
                            <span id="facturaCountBadge">0</span>
                        </div>
                    </div>

                    <div id="noFacturas" class="no-selection">
                        <div class="no-selection-icon">
                            <svg class="empty-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                    d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                            </svg>
                        </div>
                        <p class="no-selection-text">No hay facturas procesadas</p>
                    </div>

                    <div id="facturasContainer" class="facturas-container hidden"></div>
                </div>

                <!-- Error display -->
                <div id="errorDisplay" class="error-panel hidden">
                    <div class="error-content">
                        <div class="error-icon">
                            <svg class="error-svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </div>
                        <p class="error-message" id="errorMessage"></p>
                    </div>
                </div>

                <!-- Aviso informativo -->
                <div class="info-panel">
                    <div class="info-content">
                        <div class="info-icon">
                            <svg class="info-svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </div>
                        <div>
                            <p class="info-text">
                                Si algún valor extraído es incorrecto, puedes editarlo directamente en el formulario o
                                volver a procesar la imagen con mejor calidad.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer" id="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="footer-icon">
                        <svg class="footer-svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        </svg>
                    </div>
                    <div>
                        <p class="footer-title">Automatix Solutions Guatemala</p>
                        <p class="footer-subtitle">Soluciones inteligentes de procesamiento</p>
                    </div>
                </div>
                <div class="footer-info">
                    <span>Powered by Automatix Solutions</span>
                    <span>•</span>
                    <span>v2.0.0</span>
                </div>
            </div>
        </div>
    </footer>

    <script src="/mainfacturas/mainJS.js"></script>
</body>

</html>